<!doctype html>

<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Currículum — Modal con Visor</title>
  <style>
    :root{ --bg:linear-gradient(to top, #000, #002); --text:#e7ecf7; --border:rgba(255,255,255,.08); --overlay:rgba(0,0,0,.6);}  
    
    
    *{box-sizing:border-box}
    
    html{
      background-color:#000;
      height:100%
      
    }
    
    body{
      
      height:100%;
      margin:0; 
      background:var(--bg); color:var(--text); font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif; display:grid; place-items:center; padding:20px
      display:flex;
      align-items:center;
      justify-content:center;
      
    }
    
    .btn{
      
      border:1px solid rgba(0, 200, 250, 0.3); 
      background:#1f2840; 
      color:var(--text); 
      padding:10px;
      border-radius:10px; 
      font-weight:700; 
      font-size:17px;
      text-align:center;
      text-decoration:none;
      min-width:40%;
      
    }
    
    .btn:hover{box-shadow:0 0 0 3px rgba(57,178,255,.22)}

/* Modal */
.modal{width:min(900px,90vw); height:75vh; background:#0f1830; border:1px solid var(--border); border-radius:14px; box-shadow:0 20px 60px rgba(0,0,0,.6); display:flex; flex-direction:column}

.modal header{display:flex; align-items:center; justify-content:center; padding:12px 14px; border-bottom:1px solid var(--border)}
.modal h2{margin:0; font-size:1.2rem}
.close{border:1px solid var(--border); background:#0c1430; color:var(--text); border-radius:8px; padding:6px 10px; cursor:pointer}
.modal .content{flex:1; display:flex; flex-direction:column}

.actions{
  
  display:flex; 
  align-items:center; 
  justify-content:space-around; 
  padding:20px 0px;
  border-bottom:1px solid red
  
}


.viewer{flex:1; opacity:0.8;}

.viewer iframe{width:100%; height:100%; border:0; background:#000}

  </style>
</head>
<body>
  
  
    <div id="cvModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="cvTitle">
      <header>
        
        <h2 id="cvTitle">
          Currículum
        </h2>
        
      </header>
      
      
      <div class="content">
        
        <div class="actions">
          
          <a class="btn" href="fedeCv.pdf" download="fedeCv.pdf">Descargar</a>
          
          <a class="btn" href="fedeCv.pdf" target="_blank" rel="noopener">Abrir... </a>
          
        </div>
        
        
        <div class="viewer">
          
          <iframe id="cvFrame" src="fedeCv.pdf#view=FitH" title="Currículum PDF"></iframe>
          
        </div>
        
        
      </div>
    </div>
  
  
  <script>
  
  
    (function(){
      const overlay = document.getElementById('cvOverlay');
      const openBtn = document.getElementById('openModal');
      const closeBtn = document.getElementById('closeModal');
      const printBtn = document.getElementById('printBtn');
      const frame = document.getElementById('cvFrame');
      const PDF = 'fedeCv.pdf';

      function open(){
        overlay.classList.add('show');
        setTimeout(()=> closeBtn.focus(), 0);
        document.addEventListener('keydown', escClose);
        overlay.addEventListener('click', clickOutside);
      }
      function close(){
        overlay.classList.remove('show');
        document.removeEventListener('keydown', escClose);
        overlay.removeEventListener('click', clickOutside);
        openBtn.focus();
      }
      function escClose(e){ if(e.key==='Escape') close(); }
      function clickOutside(e){ if(e.target===overlay) close(); }

      openBtn.addEventListener('click', open);
      closeBtn.addEventListener('click', close);

      printBtn.addEventListener('click', () => {
        try {
          if(frame && frame.contentWindow){
            frame.contentWindow.focus();
            frame.contentWindow.print();
          } else {
            window.open(PDF, '_blank', 'noopener');
          }
        } catch(_) {
          window.open(PDF, '_blank', 'noopener');
        }
      });
    })();
    
    
  </script>
  </body>
</html>